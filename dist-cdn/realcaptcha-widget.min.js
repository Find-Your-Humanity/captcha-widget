!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["React","ReactDOM"],e):"object"==typeof exports?exports.RealCaptcha=e(require("react"),require("react-dom")):n.RealCaptcha=e(n.React,n.ReactDOM)}(this,(n,e)=>(()=>{"use strict";var t={20:(n,e,t)=>{var r=t(156),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(n,e,t){var r,i={},l=null,u=null;for(r in void 0!==t&&(l=""+t),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(u=e.ref),e)a.call(e,r)&&!s.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps)void 0===i[r]&&(i[r]=e[r]);return{$$typeof:o,type:n,key:l,ref:u,props:i,_owner:c.current}}e.Fragment=i,e.jsx=l,e.jsxs=l},54:(n,e,t)=>{t.d(e,{A:()=>c});var r=t(601),o=t.n(r),i=t(314),a=t.n(i)()(o());a.push([n.id,"/* 오버레이 스타일 */\n.captcha-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.3);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  transition: all 0.3s ease;\n}\n\n.overlay-message {\n  color: white;\n  font-size: 16px;\n  font-weight: 500;\n  margin-top: 16px;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n}\n\n/* 오버레이 로딩 스피너 */\n.overlay-loading-spinner {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.overlay-spinner {\n  width: 32px;\n  height: 32px;\n  border: 3px solid rgba(255, 255, 255, 0.3);\n  border-top: 3px solid white;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n/* 성공 체크마크 */\n.overlay-success-check {\n  animation: fadeInScale 0.5s ease;\n  position: relative;\n  top: 5px;\n  transform: scale(1.4);\n}\n\n@keyframes fadeInScale {\n  0% { opacity: 0; transform: scale(0.5); }\n  100% { opacity: 1; transform: scale(1.4); }\n}\n\n/* 실패 X 아이콘 */\n.error-x {\n  animation: shake 0.5s ease;\n  transform: scale(1.4);\n}\n\n@keyframes shake {\n  0%, 100% { transform: translateX(0); }\n  25% { transform: translateX(-5px); }\n  75% { transform: translateX(5px); }\n}\n\n/* 반응형 디자인 */\n@media (max-width: 480px) {\n  .overlay-message {\n    font-size: 14px;\n    margin-top: 12px;\n  }\n  \n  .overlay-spinner {\n    width: 28px;\n    height: 28px;\n    border-width: 2.5px;\n  }\n  \n  .overlay-success-check,\n  .error-x {\n    transform: scale(1.2);\n  }\n  \n  @keyframes fadeInScale {\n    0% { opacity: 0; transform: scale(0.5); }\n    100% { opacity: 1; transform: scale(1.2); }\n  }\n}\n\n@media (max-width: 360px) {\n  .overlay-message {\n    font-size: 12px;\n    margin-top: 10px;\n  }\n  \n  .overlay-spinner {\n    width: 24px;\n    height: 24px;\n    border-width: 2px;\n  }\n  \n  .overlay-success-check,\n  .error-x {\n    transform: scale(1.1);\n  }\n  \n  @keyframes fadeInScale {\n    0% { opacity: 0; transform: scale(0.5); }\n    100% { opacity: 1; transform: scale(1.1); }\n  }\n} ",""]);const c=a},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},72:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var i={},a=[],c=0;c<n.length;c++){var s=n[c],l=r.base?s[0]+r.base:s[0],u=i[l]||0,d="".concat(l," ").concat(u);i[l]=u+1;var p=t(d),h={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)e[p].references++,e[p].updater(h);else{var f=o(h,r);r.byIndex=c,e.splice(c,0,{identifier:d,updater:f,references:1})}a.push(d)}return a}function o(n,e){var t=e.domAPI(e);t.update(n);return function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var i=r(n=n||[],o=o||{});return function(n){n=n||[];for(var a=0;a<i.length;a++){var c=t(i[a]);e[c].references--}for(var s=r(n,o),l=0;l<i.length;l++){var u=t(i[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}i=s}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},132:(n,e,t)=>{t.d(e,{A:()=>c});var r=t(601),o=t.n(r),i=t(314),a=t.n(i)()(o());a.push([n.id,".captcha-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.captcha-button {\n  display: flex;\n  align-items: center;\n  width: 320px;\n  height: 60px;\n  background-color: #ffffff;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  padding: 0 16px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n.captcha-button:hover {\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);\n}\n\n.captcha-button.disabled {\n  background-color: #f5f5f5;\n  border-color: #e0e0e0;\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n\n.captcha-button.disabled:hover {\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n.captcha-left {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  margin-right: 12px;\n}\n\n.checkbox {\n  width: 20px;\n  height: 20px;\n  border: 2px solid #ccc;\n  border-radius: 2px;\n  background-color: #ffffff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n  cursor: pointer;\n  user-select: none;\n}\n\n.checkbox.error {\n  border-color: #f44336;\n}\n\n.checkbox.disabled {\n  border-color: #ccc;\n  background-color: #f5f5f5;\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n\n.checkbox-inner {\n  width: 12px;\n  height: 12px;\n  background-color: transparent;\n  border-radius: 1px;\n  transition: all 0.2s ease;\n}\n\n.checkbox-inner.error {\n  background-color: transparent;\n}\n\n.checkbox-inner.disabled {\n  color: #999;\n  font-weight: bold;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.loading-spinner {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 4px;\n}\n\n.spinner {\n  width: 20px;\n  height: 20px;\n  border: 2px solid #e0e0e0;\n  border-top: 2px solid #4285f4;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n.loading-text {\n  font-size: 10px;\n  color: #4285f4;\n  font-weight: 500;\n}\n\n.success-check {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n}\n\n.captcha-center {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.captcha-text {\n  font-size: 14px;\n  color: #333333;\n  font-weight: 500;\n}\n\n.captcha-right {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  margin-left: 12px;\n}\n\n.refresh-button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 8px;\n  border-radius: 50%;\n  transition: background-color 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.refresh-button:hover {\n  background-color: #f5f5f5;\n}\n\n.error-message {\n  color: #f44336;\n  font-size: 12px;\n  font-weight: 500;\n  text-align: center;\n  margin-top: 4px;\n}\n\n/* 상태별 스타일 */\n.captcha-button.loading {\n  background-color: #f8f9fa;\n}\n\n.captcha-button.success {\n  background-color: #f1f8e9;\n  border-color: #4caf50;\n}\n\n.captcha-button.error {\n  background-color: #ffebee;\n  border-color: #f44336;\n}\n\n/* 반응형 디자인 */\n@media (max-width: 767px) {\n  .captcha-button {\n    max-width: 320px;\n    width: 100%;\n    min-width: 260px;\n    height: auto;\n    min-height: 55px;\n    aspect-ratio: 5.33;\n    padding: 0 12px;\n  }\n  \n  .captcha-text {\n    font-size: 13px;\n  }\n}\n\n@media (max-width: 480px) {\n  .captcha-button {\n    min-width: 240px;\n    min-height: 50px;\n    padding: 0 10px;\n  }\n  \n  .captcha-text {\n    font-size: 12px;\n  }\n  \n  .captcha-left,\n  .captcha-right {\n    width: 36px;\n    height: 36px;\n    margin-right: 8px;\n    margin-left: 8px;\n  }\n}\n\n@media (max-width: 360px) {\n  .captcha-button {\n    min-width: 220px;\n    min-height: 48px;\n  }\n  \n  .captcha-text {\n    font-size: 11px;\n  }\n} ",""]);const c=a},156:e=>{e.exports=n},299:(n,e,t)=>{t.d(e,{A:()=>c});var r=t(601),o=t.n(r),i=t(314),a=t.n(i)()(o());a.push([n.id,".image-captcha {\n  width: 400px;\n  background-color: #ffffff;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n}\n\n.captcha-header {\n  background-color: #f5f5f5;\n  padding: 16px;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.header-text {\n  font-size: 14px;\n  color: #333333;\n  font-weight: 500;\n  text-align: center;\n  display: block;\n}\n\n.image-stage {\n  position: relative;\n  width: 100%;\n  /* 정사각 타일 그리드를 위해 비율을 1:1로 고정. 필요 시 natural ratio로 변경 가능 */\n  aspect-ratio: 1;\n  background-color: #e0e0e0;\n}\n\n.base-image {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  object-position: center;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n\n.overlay-grid {\n  position: absolute;\n  inset: 0;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-template-rows: repeat(3, 1fr);\n  gap: 0;\n  pointer-events: none; /* 셀에서 다시 활성화 */\n}\n\n.overlay-cell {\n  position: relative;\n  pointer-events: auto;\n  background-clip: padding-box;\n}\n\n/* 시각적 그리드 라인 */\n.overlay-grid {\n  outline: 2.5px solid #e0e0e0;\n}\n.overlay-cell {\n  box-shadow: inset 0 0 0 1.25px #e0e0e0;\n}\n\n.image-item {\n  position: relative;\n  aspect-ratio: 1;\n  background-color: #ffffff;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.image-item:hover {\n  background-color: #f8f9fa;\n}\n\n.overlay-cell.selected {\n  background-color: rgba(33, 150, 243, 0.4);\n}\n\n.image-placeholder { display: none; }\n\n.selection-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(66, 133, 244, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 2px;\n}\n\n.captcha-controls {\n  background-color: #f5f5f5;\n  padding: 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-top: 1px solid #e0e0e0;\n}\n\n.control-left {\n  display: flex;\n  gap: 8px;\n}\n\n.control-button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 8px;\n  border-radius: 4px;\n  transition: background-color 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.control-button:hover {\n  background-color: #e0e0e0;\n}\n\n.verify-button {\n  background-color: #f5f5f5;\n  color: #999;\n  border: 1px solid #e0e0e0;\n  padding: 8px 16px;\n  border-radius: 4px;\n  cursor: not-allowed;\n  font-size: 14px;\n  font-weight: 500;\n  transition: all 0.2s ease;\n}\n\n.verify-button.active {\n  background-color: #4285f4;\n  color: #ffffff;\n  border-color: #4285f4;\n  cursor: pointer;\n}\n\n.verify-button.active:hover {\n  background-color: #3367d6;\n}\n\n/* 상태별 테두리 */\n.image-captcha {\n  position: relative;\n  transition: border 0.3s ease;\n}\n\n.image-captcha.loading {\n  border: 3px solid #2196F3;\n}\n\n.image-captcha.success {\n  border: 3px solid #4CAF50;\n}\n\n.image-captcha.error {\n  border: 3px solid #F44336;\n}\n\n/* 반응형 디자인 */\n@media (max-width: 767px) {\n  .image-captcha {\n    max-width: 400px;\n    width: 100%;\n    min-width: 300px;\n  }\n  \n  .captcha-header {\n    padding: 14px;\n  }\n  \n  .header-text {\n    font-size: 13px;\n  }\n}\n\n@media (max-width: 480px) {\n  .image-captcha {\n    min-width: 280px;\n  }\n  \n  .captcha-header {\n    padding: 12px;\n  }\n  \n  .header-text {\n    font-size: 12px;\n  }\n  \n  .captcha-controls {\n    padding: 12px;\n  }\n  \n  .control-button {\n    padding: 10px;\n    min-width: 44px;\n    min-height: 44px;\n  }\n  \n  .verify-button {\n    padding: 10px 16px;\n    font-size: 13px;\n    min-height: 44px;\n  }\n}\n\n@media (max-width: 360px) {\n  .image-captcha {\n    min-width: 260px;\n  }\n  \n  .captcha-header {\n    padding: 10px;\n  }\n  \n  .header-text {\n    font-size: 11px;\n  }\n  \n  .captcha-controls {\n    padding: 10px;\n  }\n} ",""]);const c=a},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t}).join("")},e.i=function(n,t,r,o,i){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(a[s]=!0)}for(var l=0;l<n.length;l++){var u=[].concat(n[l]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),t&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=t):u[2]=t),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},318:n=>{n.exports=e},338:(n,e,t)=>{var r=t(318);e.H=r.createRoot,r.hydrateRoot},386:(n,e,t)=>{t.d(e,{A:()=>c});var r=t(601),o=t.n(r),i=t(314),a=t.n(i)()(o());a.push([n.id,".warm-feeling-captcha {\n  width: 400px;\n  background-color: #ffffff;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n}\n\n.captcha-header {\n  background-color: #f5f5f5;\n  padding: 16px;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.header-text {\n  font-size: 14px;\n  color: #333333;\n  font-weight: 500;\n  text-align: center;\n  display: block;\n}\n\n.image-grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 2.5px;\n  background-color: #e0e0e0;\n  padding: 2.5px;\n}\n\n.image-item {\n  position: relative;\n  aspect-ratio: 1;\n  background-color: #ffffff;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.image-item:hover {\n  background-color: #f8f9fa;\n}\n\n.image-item.selected {\n  background-color: rgba(33, 150, 243, 0.4);\n}\n\n.image-placeholder {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n}\n\n.placeholder-content {\n  font-size: 24px;\n  color: #666;\n}\n\n.image-placeholder img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.selection-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(66, 133, 244, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 2px;\n}\n\n.captcha-controls {\n  background-color: #f5f5f5;\n  padding: 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-top: 1px solid #e0e0e0;\n}\n\n.control-left {\n  display: flex;\n  gap: 8px;\n}\n\n.control-button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 8px;\n  border-radius: 4px;\n  transition: background-color 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.control-button:hover {\n  background-color: #e0e0e0;\n}\n\n.verify-button {\n  background-color: #f5f5f5;\n  color: #999;\n  border: 1px solid #e0e0e0;\n  padding: 8px 16px;\n  border-radius: 4px;\n  cursor: not-allowed;\n  font-size: 14px;\n  font-weight: 500;\n  transition: all 0.2s ease;\n}\n\n.verify-button.active {\n  background-color: #4285f4;\n  color: #ffffff;\n  border-color: #4285f4;\n  cursor: pointer;\n}\n\n.verify-button.active:hover {\n  background-color: #3367d6;\n}\n\n/* 상태별 테두리 */\n.warm-feeling-captcha {\n  position: relative;\n  transition: border 0.3s ease;\n}\n\n.warm-feeling-captcha.loading {\n  border: 3px solid #2196F3;\n}\n\n.warm-feeling-captcha.success {\n  border: 3px solid #4CAF50;\n}\n\n.warm-feeling-captcha.error {\n  border: 3px solid #F44336;\n}\n\n/* 반응형 디자인 */\n@media (max-width: 767px) {\n  .warm-feeling-captcha {\n    max-width: 400px;\n    width: 100%;\n    min-width: 300px;\n  }\n  \n  .captcha-header {\n    padding: 14px;\n  }\n  \n  .header-text {\n    font-size: 13px;\n  }\n  \n  .image-grid {\n    gap: 2px;\n    padding: 2px;\n  }\n}\n\n@media (max-width: 480px) {\n  .warm-feeling-captcha {\n    min-width: 280px;\n  }\n  \n  .captcha-header {\n    padding: 12px;\n  }\n  \n  .header-text {\n    font-size: 12px;\n  }\n  \n  .captcha-controls {\n    padding: 12px;\n  }\n  \n  .control-button {\n    padding: 10px;\n    min-width: 44px;\n    min-height: 44px;\n  }\n  \n  .verify-button {\n    padding: 10px 16px;\n    font-size: 13px;\n    min-height: 44px;\n  }\n}\n\n@media (max-width: 360px) {\n  .warm-feeling-captcha {\n    min-width: 260px;\n  }\n  \n  .captcha-header {\n    padding: 10px;\n  }\n  \n  .header-text {\n    font-size: 11px;\n  }\n  \n  .captcha-controls {\n    padding: 10px;\n  }\n} ",""]);const c=a},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},569:(n,e,t)=>{t.d(e,{A:()=>c});var r=t(601),o=t.n(r),i=t(314),a=t.n(i)()(o());a.push([n.id,".handwriting-captcha {\n  width: 500px;\n  background-color: #ffffff;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n}\n\n.captcha-header {\n  background-color: #f5f5f5;\n  padding: 16px;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.header-text {\n  font-size: 14px;\n  color: #333333;\n  font-weight: 500;\n  text-align: center;\n  display: block;\n}\n\n.images-container {\n  display: flex;\n  gap: 8px;\n  padding: 16px;\n  background-color: #ffffff;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.image-slot {\n  flex: 1;\n  aspect-ratio: 1;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.image-slot img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.handwriting-area {\n  padding: 16px;\n  background-color: #ffffff;\n  touch-action: none;\n  overflow: hidden;\n  position: relative;\n}\n\n.grid-pattern {\n  width: 100%;\n  height: 200px;\n  background-image: \n    linear-gradient(rgba(200, 200, 200, 0.3) 1px, transparent 1px),\n    linear-gradient(90deg, rgba(200, 200, 200, 0.3) 1px, transparent 1px);\n  background-size: 20px 20px;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  position: relative;\n  touch-action: none;\n  overflow: hidden;\n}\n\n.drawing-canvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  cursor: crosshair;\n  background-color: transparent;\n  touch-action: none;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.captcha-controls {\n  background-color: #f5f5f5;\n  padding: 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-top: 1px solid #e0e0e0;\n}\n\n.control-left {\n  display: flex;\n  gap: 8px;\n}\n\n.control-button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 8px;\n  border-radius: 4px;\n  transition: background-color 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.control-button:hover {\n  background-color: #e0e0e0;\n}\n\n.control-button.disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.control-button.disabled:hover {\n  background-color: transparent;\n}\n\n.verify-button {\n  background-color: #4285f4;\n  color: #ffffff;\n  border: 1px solid #4285f4;\n  padding: 8px 16px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 500;\n  transition: all 0.2s ease;\n}\n\n.verify-button:hover {\n  background-color: #3367d6;\n}\n\n/* 상태별 테두리 */\n.handwriting-captcha {\n  position: relative;\n  transition: border 0.3s ease;\n}\n\n.handwriting-captcha.loading {\n  border: 3px solid #2196F3;\n}\n\n.handwriting-captcha.success {\n  border: 3px solid #4CAF50;\n}\n\n.handwriting-captcha.error {\n  border: 3px solid #F44336;\n}\n\n/* 반응형 디자인 */\n@media (max-width: 767px) {\n  .handwriting-captcha {\n    max-width: 500px;\n    width: 100%;\n    min-width: 380px;\n  }\n  \n  .captcha-header {\n    padding: 14px;\n  }\n  \n  .header-text {\n    font-size: 13px;\n  }\n  \n  .handwriting-area {\n    padding: 14px;\n  }\n  \n  .grid-pattern {\n    height: 180px;\n  }\n}\n\n@media (max-width: 480px) {\n  .handwriting-captcha {\n    min-width: 320px;\n  }\n  \n  .captcha-header {\n    padding: 12px;\n  }\n  \n  .header-text {\n    font-size: 12px;\n  }\n  \n  .handwriting-area {\n    padding: 12px;\n  }\n  \n  .grid-pattern {\n    height: 160px;\n  }\n  \n  .captcha-controls {\n    padding: 12px;\n  }\n  \n  .control-button {\n    padding: 10px;\n    min-width: 44px;\n    min-height: 44px;\n  }\n  \n  .verify-button {\n    padding: 10px 16px;\n    font-size: 13px;\n    min-height: 44px;\n  }\n}\n\n@media (max-width: 360px) {\n  .handwriting-captcha {\n    min-width: 280px;\n  }\n  \n  .captcha-header {\n    padding: 10px;\n  }\n  \n  .header-text {\n    font-size: 11px;\n  }\n  \n  .handwriting-area {\n    padding: 10px;\n  }\n  \n  .grid-pattern {\n    height: 140px;\n  }\n  \n  .captcha-controls {\n    padding: 10px;\n  }\n} ",""]);const c=a},601:n=>{n.exports=function(n){return n[1]}},659:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},848:(n,e,t)=>{n.exports=t(20)}},r={};function o(n){var e=r[n];if(void 0!==e)return e.exports;var i=r[n]={id:n,exports:{}};return t[n](i,i.exports,o),i.exports}o.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return o.d(e,{a:e}),e},o.d=(n,e)=>{for(var t in e)o.o(e,t)&&!o.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},o.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),o.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.nc=void 0;var i={};o.r(i),o.d(i,{RealCaptcha:()=>mn,default:()=>vn});var a=o(156),c=o.n(a),s=o(338),l=o(848),u=o(72),d=o.n(u),p=o(825),h=o.n(p),f=o(659),g=o.n(f),m=o(56),v=o.n(m),x=o(540),y=o.n(x),b=o(113),w=o.n(b),k=o(132),S={};S.styleTagTransform=w(),S.setAttributes=v(),S.insert=g().bind(null,"head"),S.domAPI=h(),S.insertStyleElement=y();d()(k.A,S);k.A&&k.A.locals&&k.A.locals;var T=o(299),_={};_.styleTagTransform=w(),_.setAttributes=v(),_.insert=g().bind(null,"head"),_.domAPI=h(),_.insertStyleElement=y();d()(T.A,_);T.A&&T.A.locals&&T.A.locals;var j=[],E={captcha:0,image:0,abstractFeeling:0,handwriting:0};function C(n){j.push(n),function(){try{var n=parseInt(localStorage.getItem("current_sequence")||"0")+1,e="behavior_data_".concat(n);localStorage.setItem(e,JSON.stringify(j)),localStorage.setItem("current_sequence",n.toString()),j=[]}catch(n){}}()}const P=function(){function n(){this.isTracking=!1,this.lastMousePosition=null,this.metrics={sessionId:"image_".concat(Date.now()),startTime:Date.now(),endTime:0,totalTime:0,imageInteractions:{},selectionOrder:[],deselectionOrder:[],finalSelection:[],mouseTrajectory:[],refreshCount:0,verifyAttempts:0,verificationSuccess:!1,attemptDuration:0};for(var n=0;n<9;n++)this.metrics.imageInteractions[n]={imageId:n,clicks:[],hovers:[],totalHoverTime:0,isSelected:!1,interactionDensity:{clickCount:0,hoverCount:0,totalHoverTime:0,averageDwellTime:0,density:0}}}return n.prototype.startTracking=function(){this.isTracking=!0,this.metrics.startTime=Date.now()},n.prototype.stopTracking=function(){this.isTracking=!1,this.metrics.endTime=Date.now(),this.metrics.totalTime=this.metrics.endTime-this.metrics.startTime,this.saveToLocalStorage()},n.prototype.trackMouseMove=function(n,e){var t;if(this.isTracking){var r=Date.now(),o=null===(t=document.querySelector(".image-captcha"))||void 0===t?void 0:t.getBoundingClientRect();if(o){var i=o.width/2,a=o.height/2,c=Math.sqrt(Math.pow(n-i,2)+Math.pow(e-a,2)),s={x:n/o.width,y:e/o.height,distanceFromCenter:c,timestamp:r};this.metrics.mouseTrajectory.push(s),this.lastMousePosition=s}}},n.prototype.trackImageClick=function(n,e){if(this.isTracking){var t=this.metrics.imageInteractions[n];if(t){var r=e.target.getBoundingClientRect(),o=(e.clientX-r.left)/r.width,i=(e.clientY-r.top)/r.height,a={x:o,y:i,distanceFromCenter:Math.sqrt(Math.pow(o-.5,2)+Math.pow(i-.5,2)),timestamp:Date.now()};t.clicks.push(a),t.interactionDensity.clickCount++,this.updateInteractionDensity(t)}}},n.prototype.trackImageHover=function(n,e){if(this.isTracking){var t=this.metrics.imageInteractions[n];if(t){var r=Date.now();if(e)t.hovers.push({enter:r,leave:0}),t.interactionDensity.hoverCount++;else{var o=t.hovers[t.hovers.length-1];if(o&&0===o.leave){o.leave=r;var i=r-o.enter;t.totalHoverTime+=i,t.interactionDensity.totalHoverTime+=i}}this.updateInteractionDensity(t)}}},n.prototype.trackRefresh=function(){this.isTracking&&this.metrics.refreshCount++},n.prototype.trackVerifyAttempt=function(n){this.isTracking&&(this.metrics.verifyAttempts++,this.metrics.verificationSuccess=n,this.metrics.attemptDuration=Date.now()-this.metrics.startTime,this.metrics.finalSelection=Object.entries(this.metrics.imageInteractions).filter(function(n){n[0];return n[1].isSelected}).map(function(n){var e=n[0];return parseInt(e)}),this.saveToLocalStorage())},n.prototype.trackImageSelection=function(n,e){this.isTracking&&(this.metrics.imageInteractions[n]||(this.metrics.imageInteractions[n]={imageId:n,clicks:[],hovers:[],totalHoverTime:0,isSelected:!1,interactionDensity:{clickCount:0,hoverCount:0,totalHoverTime:0,averageDwellTime:0,density:0}}),e?(this.metrics.selectionOrder.push(n),this.metrics.imageInteractions[n].isSelected=!0):(this.metrics.deselectionOrder.push(n),this.metrics.imageInteractions[n].isSelected=!1))},n.prototype.updateInteractionDensity=function(n){var e=Date.now()-this.metrics.startTime;n.interactionDensity.averageDwellTime=n.interactionDensity.totalHoverTime/n.interactionDensity.hoverCount||0,n.interactionDensity.density=(n.interactionDensity.clickCount+n.interactionDensity.hoverCount)/(e||1)},n.prototype.saveToLocalStorage=function(){try{C(this.metrics)}catch(n){}},n.prototype.downloadMetrics=function(n){var e=JSON.stringify(this.metrics,null,2),t=new Blob([e],{type:"application/json"}),r=window.URL.createObjectURL(t),o=document.createElement("a");o.href=r,o.download=n||"image_behavior_".concat(this.metrics.sessionId,".json"),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(r)},n}();var I=o(54),A={};A.styleTagTransform=w(),A.setAttributes=v(),A.insert=g().bind(null,"head"),A.domAPI=h(),A.insertStyleElement=y();d()(I.A,A);I.A&&I.A.locals&&I.A.locals;var N=function(){return N=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},N.apply(this,arguments)};const R=function(n){var e=n.state,t=n.message;return(0,l.jsxs)("div",N({className:"captcha-overlay"},{children:[function(){switch(e){case"loading":return(0,l.jsx)("div",N({className:"overlay-loading-spinner"},{children:(0,l.jsx)("div",{className:"overlay-spinner"})}));case"success":return(0,l.jsx)("div",N({className:"overlay-success-check"},{children:(0,l.jsx)("svg",N({width:"40",height:"40",viewBox:"0 0 24 24",fill:"none"},{children:(0,l.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z",fill:"#4CAF50"})}))}));case"error":return(0,l.jsx)("div",N({className:"error-x"},{children:(0,l.jsx)("svg",N({width:"40",height:"40",viewBox:"0 0 24 24",fill:"none"},{children:(0,l.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z",fill:"#F44336"})}))}));default:return null}}(),("success"===e||"error"===e)&&(0,l.jsx)("div",N({className:"overlay-message"},{children:function(){if(t)return t;switch(e){case"loading":return"검증 중...";case"success":return"Success!";case"error":return"Failed";default:return""}}()}))]}))};var D=function(){return D=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},D.apply(this,arguments)},M=function(n,e,t,r){return new(t||(t=Promise))(function(o,i){function a(n){try{s(r.next(n))}catch(n){i(n)}}function c(n){try{s(r.throw(n))}catch(n){i(n)}}function s(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t(function(n){n(e)})).then(a,c)}s((r=r.apply(n,e||[])).next())})},L=function(n,e){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(n,a)}catch(n){c=[6,n],r=0}finally{t=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},O=function(n,e,t){if(t||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))};const z=function(n){n.onSuccess;var e=n.siteKey,t=n.apiEndpoint,r=n.captchaToken,o=(0,a.useState)([]),i=o[0],c=o[1],s=(0,a.useState)(!1),u=s[0],d=s[1],p=(0,a.useState)("idle"),h=p[0],f=p[1],g=(0,a.useState)(""),m=g[0],v=(g[1],(0,a.useState)(parseInt({NODE_ENV:"production",REACT_APP_TEST_MODE:"false",REACT_APP_API_BASE_URL:"https://api.realcatcha.com",REACT_APP_CDN_BASE_URL:"https://1df60f5faf3b4f2f992ced2edbae22ad.kakaoiedge.com",REACT_APP_SUCCESS_REDIRECT_URL:""}.REACT_APP_CAPTCHA_TTL||"60"))),x=v[0],y=v[1],b=(0,a.useState)(""),w=b[0],k=b[1],S=(0,a.useState)(!1),T=(S[0],S[1]),_=(0,a.useState)(""),j=_[0],E=_[1],C=(0,a.useState)(""),I=C[0],A=C[1],N=(0,a.useRef)(new P),z=(0,a.useRef)(!1);(0,a.useEffect)(function(){return N.current.startTracking(),H(),function(){N.current.stopTracking()}},[]);var H=function(){return M(void 0,void 0,void 0,function(){var n,r;return L(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,4,5]),T(!0),[4,fetch("".concat(t||"https://api.realcatcha.com","/api/image-challenge"),{method:"POST",headers:D({"Content-Type":"application/json"},e?{"X-API-Key":e}:{})})];case 1:if(!(n=o.sent()).ok)throw new Error("HTTP ".concat(n.status));return[4,n.json()];case 2:return r=o.sent(),E(r.challenge_id||""),k(r.url||""),"number"==typeof r.ttl&&r.ttl>0&&y(r.ttl),A(r.question||""),c([]),d(!1),[3,5];case 3:return o.sent(),[3,5];case 4:return T(!1),[7];case 5:return[2]}})})};(0,a.useEffect)(function(){if(!(x<=0)){var n=setInterval(function(){return y(function(n){return n>0?n-1:0})},1e3);return function(){return clearInterval(n)}}},[x]),(0,a.useEffect)(function(){if(0!==x||u)x>0&&(z.current=!1);else{if(z.current)return;z.current=!0,F()}},[x,u]);var F=function(){c([]),d(!1),N.current.trackRefresh(),H()};return(0,l.jsxs)("div",D({className:"image-captcha ".concat(h),onMouseMove:function(n){var e=n.currentTarget.getBoundingClientRect(),t=n.clientX-e.left,r=n.clientY-e.top;N.current.trackMouseMove(t,r)}},{children:[("loading"===h||"success"===h||"error"===h)&&(0,l.jsx)(R,{state:h,message:m}),(0,l.jsx)("div",D({className:"captcha-header"},{children:(0,l.jsx)("span",D({className:"header-text"},{children:I||"Select all matching images."}))})),(0,l.jsxs)("div",D({className:"image-stage"},{children:[w&&(0,l.jsx)("img",{className:"base-image",src:w,alt:"captcha",draggable:!1}),(0,l.jsx)("div",D({className:"overlay-grid"},{children:[{id:1,selected:!1,gridPosition:{row:1,col:1}},{id:2,selected:!1,gridPosition:{row:1,col:2}},{id:3,selected:!1,gridPosition:{row:1,col:3}},{id:4,selected:!1,gridPosition:{row:2,col:1}},{id:5,selected:!1,gridPosition:{row:2,col:2}},{id:6,selected:!1,gridPosition:{row:2,col:3}},{id:7,selected:!1,gridPosition:{row:3,col:1}},{id:8,selected:!1,gridPosition:{row:3,col:2}},{id:9,selected:!1,gridPosition:{row:3,col:3}}].map(function(n){return(0,l.jsx)("div",D({className:"overlay-cell ".concat(i.includes(n.id)?"selected":""),onClick:function(e){return t=n.id,r=e.nativeEvent,o=i.includes(t),c(function(n){return o?n.filter(function(n){return n!==t}):O(O([],n,!0),[t],!1)}),void N.current.trackImageClick(t,r);var t,r,o},onMouseEnter:function(){return N.current.trackImageHover(n.id,!0)},onMouseLeave:function(){return N.current.trackImageHover(n.id,!1)}},{children:i.includes(n.id)&&(0,l.jsx)("div",D({className:"selection-overlay"},{children:(0,l.jsx)("svg",D({width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{children:(0,l.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z",fill:"#ffffff"})}))}))}),n.id)})}))]})),(0,l.jsxs)("div",D({className:"captcha-controls"},{children:[(0,l.jsx)("div",D({className:"control-left"},{children:(0,l.jsx)("button",D({className:"control-button",onClick:F},{children:(0,l.jsx)("svg",D({width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{children:(0,l.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"#666"})}))}))})),(0,l.jsx)("button",D({className:"verify-button ".concat(i.length>0&&j?"active":""),onClick:function(){return M(void 0,void 0,void 0,function(){var n,o,a;return L(this,function(s){switch(s.label){case 0:if(!j)return[2];f("loading"),s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch("".concat(t||"https://api.realcatcha.com","/api/imagecaptcha-verify"),{method:"POST",headers:D({"Content-Type":"application/json"},e?{"X-API-Key":e}:{}),body:JSON.stringify({captcha_token:r||"",challenge_id:j,selections:i,user_id:null,api_key:e||""})})];case 2:if(!(n=s.sent()).ok)throw new Error("HTTP ".concat(n.status));return[4,n.json()];case 3:return o=s.sent(),a=!!o.success,N.current.trackVerifyAttempt(a),a?(f("success"),d(!0)):(f("error"),setTimeout(function(){f("idle"),c([]),F()},1e3)),[3,5];case 4:return s.sent(),f("error"),setTimeout(function(){f("idle")},1e3),[3,5];case 5:return[2]}})})},disabled:!(0!==i.length&&j)},{children:"VERIFY"}))]}))]}))};var H=o(386),F={};F.styleTagTransform=w(),F.setAttributes=v(),F.insert=g().bind(null,"head"),F.domAPI=h(),F.insertStyleElement=y();d()(H.A,F);H.A&&H.A.locals&&H.A.locals;var K=function(){return K=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},K.apply(this,arguments)},q=function(n,e,t,r){return new(t||(t=Promise))(function(o,i){function a(n){try{s(r.next(n))}catch(n){i(n)}}function c(n){try{s(r.throw(n))}catch(n){i(n)}}function s(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t(function(n){n(e)})).then(a,c)}s((r=r.apply(n,e||[])).next())})},U=function(n,e){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(n,a)}catch(n){c=[6,n],r=0}finally{t=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},B=function(n,e,t){if(t||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))};const X=function(n){n.onSuccess;var e=n.siteKey,t=n.apiEndpoint,r=n.captchaToken,o=(0,a.useState)([]),i=o[0],c=o[1],s=(0,a.useState)(!1),u=s[0],d=s[1],p=(0,a.useState)("idle"),h=p[0],f=p[1],g=(0,a.useState)(""),m=g[0],v=(g[1],(0,a.useState)(!1)),x=v[0],y=v[1],b=(0,a.useState)(""),w=b[0],k=b[1],S=(0,a.useState)(""),T=S[0],_=S[1],j=(0,a.useState)(""),E=j[0],C=j[1],I=(0,a.useState)(0),A=I[0],N=I[1],D=(0,a.useState)([]),M=D[0],L=D[1],O=(0,a.useRef)(new P),z=(0,a.useRef)(!1),H="https://api.realcatcha.com";(0,a.useEffect)(function(){return O.current.startTracking(),F(),function(){O.current.stopTracking()}},[]),(0,a.useEffect)(function(){if(!(A<=0)){var n=setInterval(function(){return N(function(n){return n>0?n-1:0})},1e3);return function(){return clearInterval(n)}}},[A]),(0,a.useEffect)(function(){if(0!==A||u||x)A>0&&(z.current=!1);else{if(z.current)return;z.current=!0,k("시간이 만료되어 새로운 문제로 갱신합니다."),X()}},[A,u,x]);var F=function(){return q(void 0,void 0,void 0,function(){var n,r,o,i;return U(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,4,5]),y(!0),k(""),c([]),d(!1),[4,fetch("".concat(t||H,"/api/abstract-captcha"),{method:"POST",headers:K({"Content-Type":"application/json"},e?{"X-API-Key":e}:{})})];case 1:if(!(n=a.sent()).ok)throw new Error("HTTP ".concat(n.status));return[4,n.json()];case 2:return r=a.sent(),_(r.challenge_id),C(r.question||"이미지를 선택하세요"),N(r.ttl||45),o=r.images||[],i=o.map(function(n){return{id:n.id,url:n.url.startsWith("http")?n.url:"".concat(H).concat(n.url)}}),L(i),[3,5];case 3:return a.sent(),k("문제를 불러오지 못했습니다. 다시 시도해주세요."),[3,5];case 4:return y(!1),[7];case 5:return[2]}})})},X=function(){c([]),d(!1),O.current.trackRefresh(),F()};return(0,l.jsxs)("div",K({className:"warm-feeling-captcha ".concat(h),onMouseMove:function(n){var e=n.currentTarget.getBoundingClientRect(),t=n.clientX-e.left,r=n.clientY-e.top;O.current.trackMouseMove(t,r)}},{children:[("loading"===h||"success"===h||"error"===h)&&(0,l.jsx)(R,{state:h,message:m}),(0,l.jsx)("div",K({className:"captcha-header"},{children:(0,l.jsx)("span",K({className:"header-text"},{children:E}))})),w&&(0,l.jsx)("div",K({style:{padding:8,color:"#c00",fontSize:12,textAlign:"center"}},{children:w})),(0,l.jsx)("div",K({className:"image-grid"},{children:M.map(function(n){return(0,l.jsxs)("div",K({className:"image-item ".concat(i.includes(n.id)?"selected":""),onClick:function(){return e=n.id,t=i.includes(e),c(function(n){return t?n.filter(function(n){return n!==e}):B(B([],n,!0),[e],!1)}),void O.current.trackImageSelection(e,!t);var e,t},onMouseEnter:function(){return O.current.trackImageHover(n.id,!0)},onMouseLeave:function(){return O.current.trackImageHover(n.id,!1)}},{children:[(0,l.jsx)("div",K({className:"image-placeholder"},{children:(0,l.jsx)("img",{src:n.url,alt:"Image ".concat(n.id)})})),i.includes(n.id)&&(0,l.jsx)("div",K({className:"selection-overlay"},{children:(0,l.jsx)("svg",K({width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{children:(0,l.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z",fill:"#ffffff"})}))}))]}),n.id)})})),(0,l.jsxs)("div",K({className:"captcha-controls"},{children:[(0,l.jsx)("div",K({className:"control-left"},{children:(0,l.jsx)("button",K({className:"control-button",onClick:X,disabled:x},{children:(0,l.jsx)("svg",K({width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{children:(0,l.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"#666"})}))}))})),(0,l.jsx)("button",K({className:"verify-button ".concat(i.length>0?"active":""),onClick:function(){return q(void 0,void 0,void 0,function(){var n,t,o,a;return U(this,function(s){switch(s.label){case 0:if(!T)return[2];f("loading"),s.label=1;case 1:return s.trys.push([1,4,5,6]),y(!0),n={captcha_token:r||"",challenge_id:T,selections:i,user_id:null,api_key:e||""},[4,fetch("".concat(H,"/api/abstract-verify"),{method:"POST",headers:K({"Content-Type":"application/json"},e?{"X-API-Key":e}:{}),body:JSON.stringify(n)})];case 2:if(!(t=s.sent()).ok)throw new Error("HTTP ".concat(t.status));return[4,t.json()];case 3:return o=s.sent(),a=!!o.success,O.current.trackVerifyAttempt(a),a?(f("success"),d(!0),[2]):(f("error"),setTimeout(function(){c([]),F(),f("idle")},1e3),[3,6]);case 4:return s.sent(),f("error"),setTimeout(function(){f("idle")},1e3),[3,6];case 5:return y(!1),[7];case 6:return[2]}})})},disabled:0===i.length||x},{children:"VERIFY"}))]}))]}))};var V=o(569),Y={};Y.styleTagTransform=w(),Y.setAttributes=v(),Y.insert=g().bind(null,"head"),Y.domAPI=h(),Y.insertStyleElement=y();d()(V.A,Y);V.A&&V.A.locals&&V.A.locals;const J=function(){function n(){this.isTracking=!1,this.currentStroke=[],this.lastStrokeEnd=0,this.metrics={strokeCount:0,strokeLengths:[],strokeDurations:[],strokeIntervals:[],strokeCurvatures:[],strokeJitters:[],directionChanges:[],hesitationPoints:[],totalTime:0,averageSpeed:0,speedVariations:[],sessionId:"handwriting_".concat(Date.now()),startTime:Date.now(),endTime:0,verificationSuccess:!1}}return n.prototype.startTracking=function(){this.isTracking=!0,this.metrics.startTime=Date.now()},n.prototype.stopTracking=function(){this.isTracking&&(this.isTracking=!1,this.metrics.endTime=Date.now(),this.metrics.totalTime=this.metrics.endTime-this.metrics.startTime,this.saveToLocalStorage())},n.prototype.startStroke=function(n,e){if(this.isTracking){var t=Date.now(),r={x:n,y:e,timestamp:t};this.currentStroke=[r],this.lastStrokeEnd>0&&this.metrics.strokeIntervals.push(t-this.lastStrokeEnd)}},n.prototype.addPoint=function(n,e){if(this.isTracking&&0!==this.currentStroke.length){var t={x:n,y:e,timestamp:Date.now()};this.currentStroke.push(t),this.updateMetrics()}},n.prototype.endStroke=function(){if(this.isTracking&&!(this.currentStroke.length<2)){this.metrics.strokeCount++,this.lastStrokeEnd=Date.now();var n=this.calculateStrokeLength(),e=this.currentStroke[this.currentStroke.length-1].timestamp-this.currentStroke[0].timestamp,t=this.calculateCurvature(),r=this.calculateJitter(),o=this.calculateDirectionChanges(),i=this.calculateHesitations();this.metrics.strokeLengths.push(n),this.metrics.strokeDurations.push(e),this.metrics.strokeCurvatures.push(t),this.metrics.strokeJitters.push(r),this.metrics.directionChanges.push(o),this.metrics.hesitationPoints.push(i);var a=n/e;this.metrics.speedVariations.push(a),this.updateAverages(),this.currentStroke=[]}},n.prototype.calculateStrokeLength=function(){for(var n=0,e=1;e<this.currentStroke.length;e++){var t=this.currentStroke[e].x-this.currentStroke[e-1].x,r=this.currentStroke[e].y-this.currentStroke[e-1].y;n+=Math.sqrt(t*t+r*r)}return n},n.prototype.calculateCurvature=function(){if(this.currentStroke.length<3)return 0;for(var n=0,e=1;e<this.currentStroke.length-1;e++){var t=this.currentStroke[e-1],r=this.currentStroke[e],o=this.currentStroke[e+1],i=Math.atan2(r.y-t.y,r.x-t.x),a=Math.atan2(o.y-r.y,o.x-r.x);n+=Math.abs(a-i)}return n/(this.currentStroke.length-2)},n.prototype.calculateJitter=function(){if(this.currentStroke.length<3)return 0;for(var n=0,e=1;e<this.currentStroke.length-1;e++){var t={x:(this.currentStroke[e-1].x+this.currentStroke[e+1].x)/2,y:(this.currentStroke[e-1].y+this.currentStroke[e+1].y)/2},r=this.currentStroke[e];n+=Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}return n/(this.currentStroke.length-2)},n.prototype.calculateDirectionChanges=function(){if(this.currentStroke.length<3)return 0;for(var n=0,e=Math.atan2(this.currentStroke[1].y-this.currentStroke[0].y,this.currentStroke[1].x-this.currentStroke[0].x),t=2;t<this.currentStroke.length;t++){var r=Math.atan2(this.currentStroke[t].y-this.currentStroke[t-1].y,this.currentStroke[t].x-this.currentStroke[t-1].x);Math.abs(r-e)>Math.PI/4&&n++,e=r}return n},n.prototype.calculateHesitations=function(){if(this.currentStroke.length<2)return 0;for(var n=0,e=1;e<this.currentStroke.length;e++){var t=this.currentStroke[e].timestamp-this.currentStroke[e-1].timestamp,r=this.currentStroke[e].x-this.currentStroke[e-1].x,o=this.currentStroke[e].y-this.currentStroke[e-1].y;Math.sqrt(r*r+o*o)/t<.1&&n++}return n},n.prototype.updateAverages=function(){var n=this.metrics.strokeLengths.reduce(function(n,e){return n+e},0),e=this.metrics.strokeDurations.reduce(function(n,e){return n+e},0);this.metrics.averageSpeed=n/e},n.prototype.updateMetrics=function(){if(this.currentStroke.length>=2){var n=this.currentStroke[this.currentStroke.length-1],e=this.currentStroke[this.currentStroke.length-2],t=n.timestamp-e.timestamp,r=n.x-e.x,o=n.y-e.y,i=Math.sqrt(r*r+o*o)/t;this.metrics.speedVariations.push(i)}},n.prototype.setVerificationResult=function(n){this.metrics.verificationSuccess=n,this.saveToLocalStorage()},n.prototype.saveToLocalStorage=function(){try{var n="handwriting_behavior_".concat(this.metrics.sessionId);localStorage.setItem(n,JSON.stringify(this.metrics))}catch(n){}},n.prototype.downloadMetrics=function(){var n=JSON.stringify(this.metrics,null,2),e=new Blob([n],{type:"application/json"}),t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="handwriting_behavior_".concat(Date.now(),".json"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(t)},n.prototype.reset=function(){this.currentStroke=[],this.metrics={strokeCount:0,strokeLengths:[],strokeDurations:[],strokeIntervals:[],strokeCurvatures:[],strokeJitters:[],directionChanges:[],hesitationPoints:[],totalTime:0,averageSpeed:0,speedVariations:[],sessionId:"handwriting_".concat(Date.now()),startTime:Date.now(),endTime:0,verificationSuccess:!1},this.lastStrokeEnd=0,this.isTracking=!0},n}();var G=function(){return G=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},G.apply(this,arguments)},W=function(n,e,t,r){return new(t||(t=Promise))(function(o,i){function a(n){try{s(r.next(n))}catch(n){i(n)}}function c(n){try{s(r.throw(n))}catch(n){i(n)}}function s(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t(function(n){n(e)})).then(a,c)}s((r=r.apply(n,e||[])).next())})},$=function(n,e){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(n,a)}catch(n){c=[6,n],r=0}finally{t=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Q=function(n,e,t){if(t||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))};const Z=function(n){n.onSuccess;var e=n.samples,t=n.siteKey,r=n.apiEndpoint,o=n.captchaToken,i=(0,a.useRef)(!1),c=(0,a.useState)(""),s=(c[0],c[1],(0,a.useState)("")),u=(s[0],s[1]),d=(0,a.useState)(!1),p=d[0],h=d[1],f=(0,a.useState)([]),g=f[0],m=f[1],v=(0,a.useState)([]),x=v[0],y=v[1],b=(0,a.useRef)(null),w=(0,a.useRef)(null),k=(0,a.useRef)(new J),S=(0,a.useState)("idle"),T=S[0],_=S[1],j=(0,a.useState)(""),E=j[0],C=(j[1],(0,a.useState)(parseInt({NODE_ENV:"production",REACT_APP_TEST_MODE:"false",REACT_APP_API_BASE_URL:"https://api.realcatcha.com",REACT_APP_CDN_BASE_URL:"https://1df60f5faf3b4f2f992ced2edbae22ad.kakaoiedge.com",REACT_APP_SUCCESS_REDIRECT_URL:""}.REACT_APP_CAPTCHA_TTL||"60"))),P=C[0],I=C[1],A=(0,a.useRef)(!1),N=(0,a.useState)(null),D=N[0],M=N[1];(0,a.useEffect)(function(){var n=(e||[]).slice(0,5).map(function(n,e){return{id:e+1,src:n,alt:"Sample ".concat(e+1)}});y(n)},[e]),(0,a.useEffect)(function(){var n=b.current;if(n&&!w.current){n.width=2*n.offsetWidth,n.height=2*n.offsetHeight,n.style.width="".concat(n.offsetWidth,"px"),n.style.height="".concat(n.offsetHeight,"px");var e=n.getContext("2d",{willReadFrequently:!0,alpha:!0,desynchronized:!1});e&&(e.scale(2,2),e.lineCap="round",e.strokeStyle="#000000",e.lineWidth=2,w.current=e)}},[]),(0,a.useEffect)(function(){return k.current.startTracking(),function(){k.current.stopTracking()}},[]),(0,a.useEffect)(function(){var n=b.current,e=w.current;if(n&&e)if(0===g.length)e.clearRect(0,0,n.width,n.height);else{var t=g[g.length-1];e.clearRect(0,0,n.width,n.height),e.putImageData(t,0,0)}},[g]);var L=function(){return W(void 0,void 0,void 0,function(){var n,e,r;return $(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,4,5]),h(!0),[4,fetch("".concat("https://api.realcatcha.com","/api/handwriting-challenge"),{method:"POST",headers:G({"Content-Type":"application/json"},t?{"X-API-Key":t}:{})})];case 1:if(!(n=o.sent()).ok)throw new Error("HTTP ".concat(n.status));return[4,n.json()];case 2:return e=o.sent(),r=(e.samples||[]).slice(0,5).map(function(n,e){return{id:e+1,src:n,alt:"Sample ".concat(e+1)}}),y(r),"number"==typeof e.ttl&&e.ttl>0&&I(e.ttl),M(e.challenge_id||null),[3,5];case 3:return o.sent(),[3,5];case 4:return h(!1),[7];case 5:return[2]}})})};(0,a.useEffect)(function(){if(!(P<=0)){var n=setInterval(function(){return I(function(n){return n>0?n-1:0})},1e3);return function(){return clearInterval(n)}}},[P]),(0,a.useEffect)(function(){if(0===P){if(A.current)return;A.current=!0,z(),L()}else P>0&&(A.current=!1)},[P]),(0,a.useEffect)(function(){L()},[]);var O=function(){var n;if(i.current){i.current=!1,null===(n=w.current)||void 0===n||n.closePath(),k.current.endStroke();var e=b.current;if(e&&w.current){var t=w.current.getImageData(0,0,e.width,e.height);m(function(n){return Q(Q([],n,!0),[t],!1)})}}},z=function(){m([]),k.current.reset()};return(0,l.jsxs)("div",G({className:"handwriting-captcha ".concat(T)},{children:[("loading"===T||"success"===T||"error"===T)&&(0,l.jsx)(R,{state:T,message:E}),(0,l.jsx)("div",G({className:"captcha-header"},{children:(0,l.jsx)("span",G({className:"header-text"},{children:"이미지를 보고 떠오르는 키워드를 손글씨로 작성하세요."}))})),(0,l.jsx)("div",G({className:"images-container"},{children:x.map(function(n){return(0,l.jsx)("div",G({className:"image-slot"},{children:(0,l.jsx)("img",{src:n.src,alt:n.alt})}),n.id)})})),(0,l.jsx)("div",G({className:"handwriting-area"},{children:(0,l.jsx)("div",G({className:"grid-pattern"},{children:(0,l.jsx)("canvas",{ref:b,className:"drawing-canvas",onMouseDown:function(n){var e=w.current;if(e){i.current=!0;var t=n.nativeEvent,r=t.offsetX,o=t.offsetY;e.beginPath(),e.moveTo(r,o),k.current.startStroke(r,o)}},onMouseMove:function(n){!function(n){if(i.current){var e=n.nativeEvent,t=e.offsetX,r=e.offsetY,o=w.current;o&&(o.lineTo(t,r),o.stroke(),k.current.addPoint(t,r))}}(n)},onMouseUp:O,onMouseLeave:O,onTouchStart:function(n){var e=w.current,t=b.current;if(e&&t){i.current=!0;var r=n.touches[0],o=t.getBoundingClientRect(),a=r.clientX-o.left,c=r.clientY-o.top;e.beginPath(),e.moveTo(a,c),k.current.startStroke(a,c)}},onTouchMove:function(n){if(i.current){var e=b.current;if(e){var t=n.touches[0],r=e.getBoundingClientRect(),o=t.clientX-r.left,a=t.clientY-r.top,c=w.current;c&&(c.lineTo(o,a),c.stroke(),k.current.addPoint(o,a))}}},onTouchEnd:O,onTouchCancel:O,style:{touchAction:"none",userSelect:"none",WebkitUserSelect:"none"}})}))})),(0,l.jsxs)("div",G({className:"captcha-controls"},{children:[(0,l.jsxs)("div",G({className:"control-left"},{children:[(0,l.jsx)("button",G({className:"control-button",onClick:function(){z(),u(""),L()},disabled:p},{children:(0,l.jsx)("svg",G({width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{children:(0,l.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"#666"})}))})),(0,l.jsx)("button",G({className:"control-button ".concat(0===g.length?"disabled":""),onClick:function(){if(0!==g.length){var n=g.slice(0,-1);m(n)}},disabled:0===g.length},{children:(0,l.jsx)("svg",G({width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{children:(0,l.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z",fill:0===g.length?"#ccc":"#666"})}))}))]})),(0,l.jsx)("button",G({className:"verify-button ".concat(g.length>0?"active":""),onClick:function(){return W(void 0,void 0,void 0,function(){var n,e,i,a,c,s;return $(this,function(l){switch(l.label){case 0:if(0===g.length)return alert("손글씨를 먼저 작성해주세요."),[2];if(!(n=b.current))return alert("캔버스를 찾을 수 없습니다. 다시 시도해주세요."),[2];_("loading"),l.label=1;case 1:return l.trys.push([1,4,,5]),e=n.toDataURL("image/png"),i={captcha_token:o||"",image_base64:e,user_id:null,api_key:t||"",challenge_id:D||""},[4,fetch("".concat(r||"https://api.realcatcha.com","/api/handwriting-verify"),{method:"POST",credentials:"include",headers:G({"Content-Type":"application/json"},t?{"X-API-Key":t}:{}),body:JSON.stringify(i)})];case 2:if(!(a=l.sent()).ok)throw new Error("HTTP error! status: ".concat(a.status));return[4,a.json()];case 3:return(c=l.sent()).success?(_("success"),k.current.setVerificationResult(!0),s=c.redirect_url||document.referrer||window.location.origin,"undefined"!=typeof window&&window.location.assign(s)):(_("error"),k.current.setVerificationResult(!1),setTimeout(function(){z(),L(),_("idle")},1e3)),[3,5];case 4:return l.sent(),_("error"),setTimeout(function(){_("idle")},1e3),[3,5];case 5:return[2]}})})},disabled:0===g.length},{children:"VERIFY"}))]}))]}))};function nn(){var n=navigator.userAgent.toLowerCase();return/iphone|ipad|ipod|android|blackberry|windows phone/i.test(n)||"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0?"mobile":"desktop"}var en=null,tn={sessionId:"mobile_".concat(Date.now()),startTime:Date.now(),deviceInfo:{userAgent:navigator.userAgent,screenSize:{width:window.screen.width,height:window.screen.height},orientation:window.screen.height>window.screen.width?"portrait":"landscape"},touchEvents:[],touchPatterns:{averageDuration:0,averageForce:0,averageDistance:0,averageSpeed:0,multiTouchCount:0,totalTouches:0}};function rn(n){var e=n.touches[0];(en={startTime:Date.now(),startPosition:{x:e.clientX,y:e.clientY},force:e.force||0,touchPoints:[{x:e.clientX,y:e.clientY,timestamp:Date.now(),force:e.force||0}],isMultiTouch:n.touches.length>1,touchCount:n.touches.length}).isMultiTouch&&tn.touchPatterns.multiTouchCount++,tn.touchPatterns.totalTouches++}function on(n){if(en){var e=n.touches[0];en.touchPoints.push({x:e.clientX,y:e.clientY,timestamp:Date.now(),force:e.force||0})}}function an(n){if(en){var e=Date.now(),t=n.changedTouches[0];en.endTime=e,en.duration=e-en.startTime,en.endPosition={x:t.clientX,y:t.clientY};var r=en.endPosition.x-en.startPosition.x,o=en.endPosition.y-en.startPosition.y;en.distance=Math.sqrt(r*r+o*o),en.speed=en.distance/en.duration,tn.touchEvents.push(en),function(){var n=tn.touchEvents;if(0===n.length)return;tn.touchPatterns={averageDuration:n.reduce(function(n,e){return n+(e.duration||0)},0)/n.length,averageForce:n.reduce(function(n,e){return n+e.force},0)/n.length,averageDistance:n.reduce(function(n,e){return n+(e.distance||0)},0)/n.length,averageSpeed:n.reduce(function(n,e){return n+(e.speed||0)},0)/n.length,multiTouchCount:n.filter(function(n){return n.isMultiTouch}).length,totalTouches:n.length}}(),en=null}}function cn(){try{var n=parseInt(localStorage.getItem("mobile_sequence")||"0")+1,e="mobile_behavior_".concat(n);tn.endTime=Date.now(),localStorage.setItem(e,JSON.stringify(tn)),localStorage.setItem("mobile_sequence",n.toString()),tn={sessionId:"mobile_".concat(Date.now()),startTime:Date.now(),deviceInfo:tn.deviceInfo,touchEvents:[],touchPatterns:{averageDuration:0,averageForce:0,averageDistance:0,averageSpeed:0,multiTouchCount:0,totalTouches:0}}}catch(n){}}var sn=function(){return sn=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},sn.apply(this,arguments)},ln=function(n,e,t,r){return new(t||(t=Promise))(function(o,i){function a(n){try{s(r.next(n))}catch(n){i(n)}}function c(n){try{s(r.throw(n))}catch(n){i(n)}}function s(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t(function(n){n(e)})).then(a,c)}s((r=r.apply(n,e||[])).next())})},un=function(n,e){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(n,a)}catch(n){c=[6,n],r=0}finally{t=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};const dn=function(n){var e=n.siteKey,t=void 0===e?"":e,r=(n.theme,n.size,n.language,n.apiEndpoint),o=void 0===r?"https://api.realcatcha.com":r,i=n.onComplete,c=(0,a.useState)("initial"),s=c[0],u=c[1],d=(0,a.useState)(""),p=d[0],h=d[1],f=(0,a.useState)(0),g=(f[0],f[1],(0,a.useState)([])),m=g[0],v=g[1],x=(0,a.useState)(""),y=x[0],b=x[1],w=(0,a.useState)(""),k=w[0],S=w[1],T=(0,a.useState)(0),_=T[0],P=T[1],I=(0,a.useState)(!1),A=I[0],N=I[1],R=(0,a.useRef)(null),D=(0,a.useRef)(null),M=(0,a.useRef)(null),L=(0,a.useRef)({mouseMovements:[],mouseClicks:[],scrollEvents:[],pageEvents:{enterTime:Date.now()}});(0,a.useEffect)(function(){var n=nn();return function(){j=[],Object.keys(E).forEach(function(n){E[n]=0});for(var n=parseInt(localStorage.getItem("current_sequence")||"0"),e=1;e<=n;e++)localStorage.removeItem("behavior_data_".concat(e));localStorage.removeItem("current_sequence"),localStorage.removeItem("sequence_counters")}(),"desktop"===n?(window.addEventListener("mousemove",O),window.addEventListener("mousedown",H),window.addEventListener("mouseup",H),window.addEventListener("click",H),window.addEventListener("scroll",F)):(window.addEventListener("touchstart",rn),window.addEventListener("touchmove",on),window.addEventListener("touchend",an)),function(){"desktop"===n?(window.removeEventListener("mousemove",O),window.removeEventListener("mousedown",H),window.removeEventListener("mouseup",H),window.removeEventListener("click",H),window.removeEventListener("scroll",F),K(!0)):(window.removeEventListener("touchstart",rn),window.removeEventListener("touchmove",on),window.removeEventListener("touchend",an),cn()),D.current&&clearInterval(D.current)}},[]),(0,a.useEffect)(function(){"image-captcha"!==s&&"abstract-captcha"!==s&&"handwriting-captcha"!==s||(D.current&&(clearInterval(D.current),D.current=null),"desktop"===nn()?K(!0):cn())},[s]);var O=function(n){var e={x:n.clientX,y:n.clientY,timestamp:Date.now()};if(!M.current)return L.current.mouseMovements.push(e),void(M.current=e);var t=Math.sqrt(Math.pow(e.x-M.current.x,2)+Math.pow(e.y-M.current.y,2)),r=e.timestamp-M.current.timestamp;(t>=10||r>=50)&&(L.current.mouseMovements.push(e),M.current=e)},H=function(n){L.current.mouseClicks.push({x:n.clientX,y:n.clientY,timestamp:Date.now(),type:n.type})},F=function(){L.current.scrollEvents.push({position:window.scrollY,timestamp:Date.now()})},K=function(n){void 0===n&&(n=!1),C(sn(sn({},L.current),{pageEvents:sn(sn({},L.current.pageEvents),{exitTime:n?Date.now():void 0,totalTime:n?Date.now()-L.current.pageEvents.enterTime:void 0})})),n||(L.current=sn(sn({},L.current),{mouseMovements:[],mouseClicks:[],scrollEvents:[],pageEvents:{enterTime:Date.now()}}))},q=function(n){n.stopPropagation(),n.preventDefault(),A||"initial"!==s&&"error"!==s||(u("loading"),h(""),B())},U=(0,a.useRef)(!1),B=function(){return ln(void 0,void 0,void 0,function(){var n,e,r,a,c,s,l,d,p,f;return un(this,function(g){switch(g.label){case 0:if(g.trys.push([0,3,,4]),U.current)return[2];U.current=!0,n=o||"https://api.realcatcha.com",e="undefined"!=typeof performance&&performance.now?performance.now():Date.now(),r=L.current,a={behavior_data:r,session_id:k||null};try{((null==r?void 0:r.mouseMovements)||[]).length,((null==r?void 0:r.mouseClicks)||[]).length,((null==r?void 0:r.scrollEvents)||[]).length,JSON.stringify(a).length,{mouseMovements:((null==r?void 0:r.mouseMovements)||[]).slice(0,2),mouseClicks:((null==r?void 0:r.mouseClicks)||[]).slice(0,2),scrollEvents:((null==r?void 0:r.scrollEvents)||[]).slice(0,2)}}catch(n){}return[4,fetch("".concat(n,"/api/next-captcha"),{method:"POST",headers:{"Content-Type":"application/json","X-API-Key":t},body:JSON.stringify(a)})];case 1:if(!(c=g.sent()).ok)throw U.current=!1,new Error("HTTP error! status: ".concat(c.status));return[4,c.json()];case 2:s=g.sent(),l="undefined"!=typeof performance&&performance.now?performance.now():Date.now(),d=Math.round(l-e);try{({status:c.status,durationMs:d,next_captcha:null==s?void 0:s.next_captcha,captcha_type:null==s?void 0:s.captcha_type,confidence_score:null==s?void 0:s.confidence_score,ml_service_used:null==s?void 0:s.ml_service_used,is_bot_detected:null==s?void 0:s.is_bot_detected})}catch(n){}return s.captcha_token&&b(s.captcha_token),s.session_id&&S(s.session_id),s.is_blocked?(u("error"),h("봇으로 의심됩니다. 다시 확인해주세요."),N(!0),U.current=!1,[2]):void 0!==s.confidence_score&&s.confidence_score<=9?(P(p=_+1),u("error"),h("봇으로 의심됩니다. 다시 확인해주세요."),p>=3&&N(!0),U.current=!1,[2]):("imagecaptcha"===s.next_captcha?u("image-captcha"):"handwritingcaptcha"===s.next_captcha?(v(Array.isArray(s.handwriting_samples)?s.handwriting_samples:[]),u("handwriting-captcha")):"abstractcaptcha"===s.next_captcha?u("abstract-captcha"):(u("success"),i&&(f={success:!0,captcha_token:s.captcha_token,captcha_type:s.captcha_type,confidence_score:s.confidence_score,is_bot_detected:s.is_bot_detected},i(f))),U.current=!1,[3,4]);case 3:return g.sent(),u("error"),h("서버 연결에 실패했습니다. 다시 시도해주세요."),U.current=!1,[3,4];case 4:return[2]}})})},V=function(){u("success")};return(0,l.jsx)("div",sn({className:"captcha-container"},{children:"image-captcha"===s?(0,l.jsx)(z,{onSuccess:V,siteKey:t,apiEndpoint:o,captchaToken:y}):"abstract-captcha"===s?(0,l.jsx)(X,{onSuccess:V,siteKey:t,apiEndpoint:o,captchaToken:y}):"handwriting-captcha"===s?(0,l.jsx)(Z,{onSuccess:V,samples:m,siteKey:t,apiEndpoint:o,captchaToken:y}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",sn({className:"captcha-button ".concat(s," ").concat(A?"disabled":""),onClick:function(n){A||"initial"===s&&R.current&&!R.current.contains(n.target)&&(n.target.closest(".refresh-button")||(u("error"),h("잘못된 선택입니다. 다시 확인해주세요.")))}},{children:[(0,l.jsxs)("div",sn({className:"captcha-left"},{children:["initial"===s&&(0,l.jsx)("div",sn({className:"checkbox",ref:R,onClick:q},{children:(0,l.jsx)("div",{className:"checkbox-inner"})})),"loading"===s&&(0,l.jsxs)("div",sn({className:"loading-spinner"},{children:[(0,l.jsx)("div",{className:"spinner"}),(0,l.jsx)("span",sn({className:"loading-text"},{children:"LOADING..."}))]})),"success"===s&&(0,l.jsx)("div",sn({className:"success-check"},{children:(0,l.jsx)("svg",sn({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},{children:(0,l.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z",fill:"#4CAF50"})}))})),"error"===s&&!A&&(0,l.jsx)("div",sn({className:"checkbox error",ref:R,onClick:q},{children:(0,l.jsx)("div",{className:"checkbox-inner error"})})),A&&(0,l.jsx)("div",sn({className:"checkbox disabled"},{children:(0,l.jsx)("div",sn({className:"checkbox-inner disabled"},{children:"✕"}))}))]})),(0,l.jsx)("div",sn({className:"captcha-center"},{children:(0,l.jsx)("span",sn({className:"captcha-text"},{children:"I'm not a robot"}))})),(0,l.jsx)("div",sn({className:"captcha-right"},{children:(0,l.jsx)("button",sn({className:"refresh-button",onClick:function(n){n.stopPropagation(),u("initial"),h("")}},{children:(0,l.jsx)("svg",sn({width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{children:(0,l.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"#666"})}))}))}))]})),"error"===s&&p&&(0,l.jsx)("div",sn({className:"error-message"},{children:p}))]})}))};var pn=function(){return pn=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},pn.apply(this,arguments)},hn=function(n,e,t,r){return new(t||(t=Promise))(function(o,i){function a(n){try{s(r.next(n))}catch(n){i(n)}}function c(n){try{s(r.throw(n))}catch(n){i(n)}}function s(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t(function(n){n(e)})).then(a,c)}s((r=r.apply(n,e||[])).next())})},fn=function(n,e){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(n,a)}catch(n){c=[6,n],r=0}finally{t=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},gn=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t},mn=function(){function n(n){if(void 0===n&&(n={}),this.options=pn({siteKey:"",theme:"light",size:"normal",language:"ko",apiEndpoint:"https://api.realcatcha.com",cdnEndpoint:"https://1df60f5faf3b4f2f992ced2edbae22ad.kakaoiedge.com"},n),!this.options.siteKey)throw new Error("siteKey가 필요합니다. 발급받은 key_id를 전달하세요.")}return n.prototype.render=function(n,e){var t=this,r="string"==typeof n?document.getElementById(n):n;if(!r)throw new Error("Container with ID '".concat(n,"' not found"));var o=(0,s.H)(r),i=function(n){e&&"function"==typeof e&&e(n)};return o.render(c().createElement(dn,{onComplete:i,siteKey:this.options.siteKey,theme:this.options.theme,size:this.options.size,language:this.options.language,apiEndpoint:this.options.apiEndpoint,cdnEndpoint:this.options.cdnEndpoint})),{destroy:function(){o.unmount()},reset:function(){o.render(c().createElement(dn,{onComplete:i,siteKey:t.options.siteKey,theme:t.options.theme,size:t.options.size,language:t.options.language,apiEndpoint:t.options.apiEndpoint,cdnEndpoint:t.options.cdnEndpoint,key:Date.now()}))},verifyToken:function(n,e){return hn(t,void 0,void 0,function(){var t;return fn(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch("".concat(this.options.apiEndpoint,"/api/verify-captcha"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({site_key:this.options.siteKey,captcha_token:n,response:e})})];case 1:if(!(t=r.sent()).ok)throw new Error("HTTP error! status: ".concat(t.status));return[4,t.json()];case 2:return[2,r.sent()];case 3:throw r.sent();case 4:return[2]}})})}}},n.prototype.configure=function(n){this.options=pn(pn({},this.options),n)},n}();"undefined"!=typeof window&&function(){hn(this,void 0,void 0,function(){var n;return fn(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,new Promise(function(n){var e=function(){window.React&&window.ReactDOM&&window.ReactDOM.createRoot?n():setTimeout(e,50)};e()})];case 1:return e.sent(),window.RealCaptcha=mn,window.createRealCaptcha=function(n){return new mn(n)},window.renderRealCaptcha=function(n,e,t){if(!e||!e.siteKey)throw new Error("siteKey가 필요합니다. 발급받은 key_id를 전달하세요.");return new mn(e).render(n,t)},window.REAL={init:function(n){var e=n.container,t=n.siteKey,r=n.callback,o=n["expired-callback"],i=gn(n,["container","siteKey","callback","expired-callback"]);if(!t)throw new Error("siteKey가 필요합니다. 발급받은 key_id를 전달하세요.");if(!e)throw new Error("container is required");var a=new mn(pn({siteKey:t},i)).render(e,r);return o&&(a.onExpired=o),a},reset:function(){window.__REAL_CURRENT_INSTANCE__&&window.__REAL_CURRENT_INSTANCE__.reset()}},window.__REAL_PENDING_INIT__&&(n=window.__REAL_PENDING_INIT__,delete window.__REAL_PENDING_INIT__,window.REAL.init(n)),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}})})}();const vn=mn;return i})());